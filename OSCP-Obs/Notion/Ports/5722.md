- **5722/tcp** is the well-known port for **DFSR (DFS Replication)**.
- **DFSR 是应用，RPC 是它用的通信协议。**  
    **Microsoft DFS Replication (DFSR)**.DFS = **Distributed File System** (a Windows Server role).
- **MSRPC** (Microsoft RPC) is the underlying protocol DFSR uses to expose its replication RPC interfaces. Nmap’s service detection often reports the generic **msrpc** service because it recognizes an RPC endpoint on that port rather than the higher-level app name **DFSR**.
    
- In other words: **5722 = DFSR, which speaks RPC**, so Nmap shows `msrpc` (syn-ack) even though the logical service is DFS replication.

### 1. 什么是 MSRPC

- **MSRPC** = Microsoft Remote Procedure Call（微软远程过程调用）。
    
- 它是一种通信协议，允许客户端和服务器在 Windows 环境下通过网络调用远程服务接口。
    
- 很多 Windows 服务（例如 AD、DFS、Exchange、Print Spooler）都是通过 RPC 暴露接口的。
    

---

### 2. 为什么 5722/tcp 显示 MSRPC

- 端口 **5722** 本来是 **DFS Replication (DFSR)** 服务使用的端口。
    
- 但是 DFSR 并不是直接“裸跑”的，而是通过 **MSRPC 框架**来实现通信。
    
- 所以当 Nmap 或其他扫描工具检测时，它能识别到端口上有 **RPC Endpoint Mapper** 特征，但不能直接知道这是 DFSR。于是就标记为 **msrpc**。
    

换句话说：  
👉 
就像一个网站是“WordPress”，但是底层跑的是 “HTTP”。Nmap 只看到 HTTP，就先标记出来。

---

### 3. 总结

- **5722/tcp** 的真正用途 → **DFSR (DFS 复制服务)**
    
- **Nmap 显示 msrpc** → 因为 DFSR 通过 **MSRPC 协议**来运行
    
- 所以两者并不矛盾，一个是协议，一个是具体服务。