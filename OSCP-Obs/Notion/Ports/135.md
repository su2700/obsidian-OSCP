Port **135/tcp** is the **Microsoft RPC Endpoint Mapper** (MS-RPC).[[RPC]]

```PowerShell
rpcdump.py $IP
rpcclient -U "" -N  $IP
```

### 为什么是 `nxc smb` 而不是 `nxc rpc`

- **NetExec (nxc)** 里面的功能是按 **协议模块** 来区分的，比如：`smb`、`winrm`、`ldap`、`ssh`、`mssql` 等。
- NetExec 并没有单独的 `**rpc**` **模块**。
- 实际上，很多 **Windows 的 RPC 接口**（比如 `lsarpc`、`samr`、`srvsvc`）是通过 **SMB 的命名管道 (Named Pipe)** 来访问的，而不是直接通过 135 端口。
- 所以，当你运行：
    
    ```Bash
    nxc smb 10.10.11.35 -u user -p pass --users
    
    ```
    
    它其实是先连 SMB (445)，再打开命名管道（比如 `\PIPE\samr`）来调用 **RPC 服务**，从而枚举用户、组等信息。
    

### 135 端口和 445 端口的区别

- **135/tcp (EPM - Endpoint Mapper)**
    
    主要作用是告诉你系统上有哪些 RPC 服务，以及这些服务对应的动态端口。比如 `rpcdump.py` 就是通过 135 来做的。
    
- **445/tcp (SMB)**
    
    这里不仅仅是文件共享，Windows 还允许直接通过 **SMB 命名管道** 与 RPC 服务通信。
    
    举例：
    
    - SAMR → `-users` (枚举用户)
    - LSA → `-groups` (枚举组)

👉 因此，NetExec 把 RPC 枚举功能都放在了 `smb` 模块里面，而不是单独做一个 `rpc` 模块。

- `nxc smb` = 通过 SMB (445) 打开命名管道，实际调用 RPC 来做用户、组、share 等枚举。
- `rpcdump.py` = 通过 135 端口直接问 EPM“有哪些 RPC 服务”，更底层，但不直接给你用户信息。

```PowerShell
nxc_spider_plus netexec smb 10.10.11.35 -u '' -p '' --rid-brute
nxc_spider_plus netexec smb 10.10.11.35 -u '.' -p '' --rid-brute
nxc_spider_plus netexec smb 10.10.11.35 -u 'guest' -p '' --rid-brute
```

RID 枚举（Relative Identifier Brute Force）