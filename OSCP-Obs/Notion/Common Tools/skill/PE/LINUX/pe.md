
```
find / -xdev \( -perm -u=s -o -perm -g=s \) -exec ls -l {} \; 2>/dev/null

```
- `find /`  
    从根目录 `/` 开始搜索。
    
- `-xdev`  
    不跨越文件系统边界 —— 只在与 `/` 同一文件系统上查找（常用来避免遍历挂载的其它分区或网络文件系统）。
    
- `\( -perm -u=s -o -perm -g=s \)`  
    用括号把条件分组，查找**满足任一**的文件：
    
    - `-perm -u=s`：用户（owner）上的 SUID 位被设置（setuid），也就是 owner 的 `s`。
        
    - `-perm -g=s`：组（group）上的 SGID 位被设置（setgid）。  
        `-o` 表示 “或”。
        
- `-exec ls -l {} \;`  
    对每个找到的文件执行 `ls -l 文件`，以长列表形式显示权限、所有者、大小、时间戳、路径等信息。`{}` 是 find 的占位符，`\;` 结束 `-exec`。
    
- `2>/dev/null`  
    将标准错误（例如 permission denied）丢弃，避免屏幕上被大量错误信息刷屏。




查找所有 **设置了 SUID 位的可执行文件**
```
find / -perm -4000 2>/dev/null

```
#### 1. `find /`

意思是：从根目录 `/` 开始搜索整个文件系统。

#### 2. `-perm -4000`

- `-perm` 参数用于匹配文件权限。
    
- `4000` 表示 **SUID (Set User ID)** 位。
    
- 前面的 `-`（减号）表示“包含此权限的文件”，即：只要文件 **拥有 SUID 权限**（即使其他权限不同），都会被列出。
    

👉 所以 `-perm -4000` 的意思是：

> 查找所有具有 SUID 权限位的文件。

#### 3. `2>/dev/null`

- `2>` 表示重定向 **标准错误输出（stderr）**。
    
- `/dev/null` 是一个“黑洞设备”，所有写进去的内容都会被丢弃。